<!-- ...your HTML up to the AWS VPC dialog unchanged... -->
<dialog id="aws-vpc-modal">
  <div class="lab-content">
    <div class="aws-vpc-lab-container">
      <div class="aws-vpc-header">
        <h1>AWS VPC Lab</h1>
        <button type="button" onclick="toggleInstructionsVpc()">Hide Instructions</button>
        <button type="button" onclick="closeModal('aws-vpc-modal')">Close</button>
      </div>
      <div class="aws-vpc-main-content" id="aws-vpc-main-content">
        <div class="aws-vpc-instructions" id="aws-vpc-instructions">
          <h2>Create a VPC in AWS</h2>
          <p>In the "Code Editor" tab, open the <code>vpc.tf</code> file.</p>
          <p>Your task: Add resources to create a VPC with a CIDR block of <code>10.0.0.0/16</code>, a subnet with a CIDR block of <code>10.0.1.0/24</code>, an internet gateway attached to the VPC, a route table with a route to the internet gateway, and an association between the subnet and the route table.</p>
        </div>
        <div class="aws-vpc-editor-terminal">
          <div class="aws-vpc-workspace">
            <h3>WORKSTATION</h3>
            <div class="aws-vpc-file-tree">
              <ul>
                <li>ğŸ“ /root/learn-terraform-aws-vpc</li>
                <ul>
                  <li class="file" onclick="loadVpcFile('provider.tf')">ğŸ“„ provider.tf</li>
                  <li class="file" onclick="loadVpcFile('vpc.tf')">ğŸ“„ vpc.tf</li>
                </ul>
              </ul>
            </div>
          </div>
          <div class="aws-vpc-editor-section">
            <h3>Code Editor</h3>
            <textarea id="aws-vpc-editor" spellcheck="false" rows="12" style="min-height: 180px; max-height: 600px; height: 300px; background: #202040; color: #fff; border-radius: 8px; padding: 16px; resize: none; width: 100%; box-sizing: border-box;" oninput="autoResize(this)"></textarea>
          </div>
          <div class="aws-vpc-terminal-section">
            <h3>Terminal</h3>
            <textarea id="aws-vpc-terminal" readonly rows="10" style="min-height: 120px; max-height: 400px; height: 220px; background: #181828; color: #00ffd5; border-radius: 8px; padding: 16px; resize: none; width: 100%; box-sizing: border-box;" oninput="autoResize(this)">
Initializing lab environment...
Terraform initialized successfully.
            </textarea>
          </div>
        </div>
      </div>
      <div class="aws-vpc-button-group">
        <button class="aws-vpc-check-btn" onclick="checkVpcCode()">Check</button>
        <button class="aws-vpc-clear-btn" onclick="clearVpcTerminal()">Clear Terminal</button>
        <button class="aws-vpc-check-answer-btn" onclick="showVpcSolution()">Check Answer</button>
        <button class="aws-vpc-restart-btn" onclick="restartVpcLab()">Restart</button>
      </div>
    </div>
  </div>
</dialog>
<script>
function autoResize(textarea) {
  textarea.style.height = 'auto';
  textarea.style.height = (textarea.scrollHeight) + 'px';
}
</script>
<!-- ...rest of your JS code, including VPC lab state, remains unchanged... -->
